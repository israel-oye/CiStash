 {% extends '_layout.html' %}
<!-- -->
{% block title %}{{course.course_code}} resources{% endblock %}
<!-- -->
{% block body %}
<div class="container pt-lg-4 pt-md-3 pt-sm-4 mt-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb mb-5">
            <li class="breadcrumb-item"><a class="text-primary" href="{{url_for('home_bp.index')}}#levels">Levels</a></li>
            <li class="breadcrumb-item"><a class="text-primary" href="{{url_for('home_bp.level_page', level_id=course.level_id)}}">{{course.course_level.name.value}}</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{course.course_code}}</li>
        </ol>
    </nav>
    <!--  -->
    {% if is_empty %}
    <div class="mx-5">
        <img class="empty-folder-img img-fluid d-block mx-auto pb-5" src="{{url_for('static', filename='/images/empty-folder.webp')}}" alt="Empty folder image">
        <h4>{{course.course_code}} does not have any document uploaded, do you want to upload some?</h4>
        <a class="btn btn-info btn-lg text-left" href="{{url_for('auth_bp.get_upload_page')}}">
            <i class="fa-regular fa-square-plus"></i> Add Docs
        </a>
    </div>
    <!--  -->
    {% else %}
    <div class="table-responsive">
        <table class="table table-striped table-hover bg-dark caption-top">
            <caption>List of resources</caption>
            {% for doc in course_docs %}
            <tr>
                <td>
                    <a class="link-downloader text-info" href="{{url_for('resource_bp.download_document', file_uuid=doc.uuid)}}">
                        <i class="fa-solid fa-file-lines"></i> {{doc.filename}}
                    </a>
                </td>
                <td>
                    <a class="btn btn-secondary" href="{{doc.download_link}}" target="_blank" rel="noopener noreferrer" title="Open in browser">
                        <i class="fa-solid fa-up-right-from-square fa-2xs"></i>
                    </a>
                </td>
                <td>
                    <button type="button" class="btn btn-success float-end downloader" value="{{doc.uuid}}"><i class="fa-solid fa-file-arrow-down fa-bounce"></i> Download</button>
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>
    <!--  -->
    {% endif %}

</div>
<script src="{{url_for('static', filename='assets/download-handler.js')}}"></script>
{% endblock %}